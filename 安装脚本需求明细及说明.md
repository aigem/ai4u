# AI Tools 安装脚本需求说明

## 1. 项目概述

### 1.1 目标
开发一个简单易用、实用的 AI 工具安装管理系统，提供统一的安装流程和友好的用户界面。

### 1.2 脚本运行环境
- Linux 环境
- bash shell
- ubuntu 20.04 LTS
- root 用户

### 1.2 核心特点
- 简单易用，最小化配置
- 统一的安装流程
- 精简的目录结构
- 标准化的应用模板
- 简洁的命令行接口
- 智能的错误处理

## 2. 系统结构

```
aitools/
├── aitools.sh           # 主入口脚本
├── config/             
│   └── settings.yaml   # 全局配置
├── templates/          # 模板目录
│   ├── app_configs/   # 应用配置模板
│   │   ├── base.yaml  # 基础配置模板
│   │   └── [type]/    # 按类型分类的模板
│   └── validators/    # 验证规则
├── apps/              # 应用目录
└── lib/               # 共享库
    ├── tui/          # TUI组件
    ├── core/         # 核心功能
    └── utils/        # 工具库
```

## 3. 核心功能

### 3.1 用户界面
- TUI界面特点：
  - 简洁的菜单界面
  - 实时进度显示
  - 清晰的错误提示
  - 引导式配置

### 3.2 主要功能
- 应用管理：
  - 安装：`./aitools.sh install <app>`
  - 卸载：`./aitools.sh remove <app>`
  - 更新：`./aitools.sh update <app>`
  - 状态：`./aitools.sh status <app>`

- 应用创建：
  - 交互式创建：`./aitools.sh create --interactive` (推荐)
  - 快速创建：`./aitools.sh create <app> --type <type>`

### 3.3 标准化配置
1. 基础配置模板：
```yaml
name: ""          # 应用名称
type: ""          # 应用类型
version: "1.0"    # 版本号

deps: []          # 依赖
env: {}           # 环境变量

steps:            # 统一安装步骤
  pre: []         # 前置步骤
  main: []        # 主要步骤
  post: []        # 后置步骤

cmd: ""           # 启动命令
```

2. 基础验证规则：
```yaml
required:
  - name
  - type
  - version
  - cmd

env_rules:        # 环境变量规则
  required: []    # 必需的环境变量
  optional: []    # 可选的环境变量
```

### 3.4 简化安装流程
1. 选择应用
   - 通过类型选择
   - 直接指定名称

2. 验证环境
   - 依赖检查
   - 空间检查

3. 配置应用
   - 必要配置
   - 可选配置

4. 安装运行
   - 执行安装
   - 验证结果

## 4. 应用开发

### 4.1 添加新应用
1. 选择创建方式：
```bash
# 交互式创建（推荐）
./aitools.sh create --interactive

# 快速创建
./aitools.sh create myapp --type text_generation
```

2. 配置验证：
- 使用统一的验证规则
- 自动检查必要字段
- 验证环境变量

### 4.2 最佳实践
- 配置管理
  - 使用简洁配置
  - 遵循验证规则
  - 合理使用默认值

- 安装流程
  - 清晰的步骤划分
  - 完整的错误处理
  - 合理的日志记录

## 5. 使用说明

### 5.1 快速开始
```bash
# 安装应用
./aitools.sh install chatgpt

# 查看状态
./aitools.sh status chatgpt
```

### 5.2 配置说明
- 全局配置：`config/settings.yaml`
- 应用配置：`apps/<app>/config.yaml`

### 5.3 常见问题处理
- 安装失败
  - 检查错误日志
  - 验证配置正确性
  - 确认环境依赖

## 6. 开发规范

### 6.1 代码规范
- 保持简洁
- 统一命名
- 完整注释

### 6.2 配置规范
- 字段精简
- 类型统一
- 结构清晰

### 6.3 文档要求
- 基础说明
  - 安装步骤
  - 配置说明
  - 常见问题

- 更新记录
  - 版本变更
  - 重要更新